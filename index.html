<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/index.md at 2023-07-11
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>SLF4J Test &#x2013; SLF4J Test</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.1.min.js"></script>
    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15938495-2', 'auto');
      ga('send', 'pageview');
      ga('set', 'anonymizeIp', true);
      ga('set', 'forceSSL', true);
    </script>
  </head>
  <body class="topBarDisabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/valfirst/slf4j-test" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>SLF4J Test</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-07-11<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 3.0.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a><span class="none"></span>Introduction</a></li>
    <li><a href="usage.html" title="Usage"><span class="none"></span>Usage</a></li>
    <li><a href="changelog.html" title="Changelog"><span class="none"></span>Changelog</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-down"></span>Project Information</a>
     <ul class="nav nav-list">
      <li><a href="ci-management.html" title="CI Management"><span class="none"></span>CI Management</a></li>
      <li><a href="dependencies.html" title="Dependencies"><span class="none"></span>Dependencies</a></li>
      <li><a href="dependency-info.html" title="Dependency Information"><span class="none"></span>Dependency Information</a></li>
      <li><a href="dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a></li>
      <li><a href="distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a></li>
      <li class="active"><a><span class="none"></span>About</a></li>
      <li><a href="licenses.html" title="Licenses"><span class="none"></span>Licenses</a></li>
      <li><a href="plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
      <li><a href="plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li><a href="scm.html" title="Source Code Management"><span class="none"></span>Source Code Management</a></li>
      <li><a href="summary.html" title="Summary"><span class="none"></span>Summary</a></li>
      <li><a href="team.html" title="Team"><span class="none"></span>Team</a></li>
     </ul></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="SLF4J_Test"></a>SLF4J Test</h2>
<p>A test implementation of <a class="externalLink" href="http://www.slf4j.org/">SLF4J</a> that stores log messages
in memory and provides methods for retrieving them.</p>
<p>Below is a quick start; more detailed usage information is available <a href="./usage.html">here.
</a> See the <a href="./apidocs/index.html">JavaDocs</a> for full documentation
and the <a href="./xref-test/index.html">Test Source</a> for complete examples of usage.</p>
<p>Details on how to depend on this library in your favourite build tool can be
found <a href="./dependency-info.html">here</a>.</p><section>
<h3><a name="Getting_Started"></a>Getting Started</h3><section>
<h4><a name="Setting_up"></a>Setting up</h4>
<p>SLF4J Test should be <a class="externalLink" href="http://www.slf4j.org/codes.html#multiple_bindings">the only SLF4J implementation on your test classpath
</a>, and SLF4J will warn you if
there is more than one. If the module is a library this should not be an issue
as you should not be including a logging implementation as a compile or runtime
dependency anyway. If the module is an application (whether standalone or
something like a WAR that is deployed in a container) then you have two options:
separate out the logic into a library, or exclude the real implementation from
the test classpath. In Maven this can be done as so:</p>

<div class="source"><pre class="prettyprint linenums"><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;classpathDependencyExcludes&gt;
          &lt;classpathDependencyExcludes&gt;ch.qos.logback:logback-classic&lt;/classpathDependencyExcludes&gt;
        &lt;/classpathDependencyExcludes&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div></section><section>
<h4><a name="Basic_example"></a>Basic example</h4>
<p>It is a common pattern to use SLF4J in the following manner:</p>

<div class="source"><pre class="prettyprint linenums"><code>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class Slf4jUser {

    private static final Logger logger = LoggerFactory.getLogger(Slf4jUser.class);

    public void aMethodThatLogs() {
        logger.info(&quot;Hello World!&quot;);
    }
}
</code></pre></div>
<p>This is because it is arduous to inject a Logger instance into every class that
needs to log. However, this renders it quite difficult to unit test interactions
with the logger instance; even if it is not stored statically or made final, it
will almost certainly be private, and to make it anything other than private or
final is to compromise the design for testability which is obviously
undesirable.</p>
<p>This library gets around this by providing an implementation of SLF4J which
stores the logging events in memory in a form that can be interrogated. So long
as slf4j-test is present as the sole SLF4J implementation on the classpath, the
class above could be tested as so:</p>

<div class="source"><pre class="prettyprint linenums"><code>import org.junit.After;
import org.junit.Test;

import com.github.valfirst.slf4jtest.TestLogger;
import com.github.valfirst.slf4jtest.TestLoggerFactory;

import static java.util.Arrays.asList;
import static org.hamcrest.Matchers.is;
import static org.junit.Assert.assertThat;
import static com.github.valfirst.slf4jtest.LoggingEvent.info;

public class Slf4jUserTest {

    @Rule public TestRule resetLoggingEvents = new TestLoggerFactoryResetRule();

    Slf4jUser slf4jUser = new Slf4jUser();
    TestLogger logger = TestLoggerFactory.getTestLogger(Slf4jUser.class);

    @Test
    public void aMethodThatLogsLogsAsExpected() {

        slf4jUser.aMethodThatLogs();

        assertThat(logger.getLoggingEvents(), is(asList(info(&quot;Hello World!&quot;))));
    }
}
</code></pre></div></section></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2023
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>